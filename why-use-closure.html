<!DOCTYPE html>
<html lang="en">
<!-- Mirrored from localhost:8080/why-use-closure by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Jul 2021 13:58:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8" /><title>Why use &quot;closure&quot;? - How To Node - NodeJS</title><meta name="description" content="Learn the zen of coding in NodeJS." /><meta name="viewport" content="width=device-width" /><link href="style.css" rel="stylesheet" /><link href="print.css" rel="stylesheet" media="print" /><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed.xml" /><link href="favicon.ico" rel="icon" type="image/x-icon" /></head><body><div id="container"><div id="header"><a href="index.html"><img src="logo.png" alt="How to Node" class="logo" /><div class="tagline">The zen of coding in node.js</div></a></div><div id="main"><div class="article"><h1><a href="why-use-closure.html">Why use &quot;closure&quot;?</a></h1><p class="old-node-warning">HEADS UP! This article was written for an older version of node.&nbsp;More up-to-date information may be available elsewhere.</p><p>One of the greatest features of the JavaScript language is <a href="http://en.wikipedia.org/wiki/Closure_" title="computer_science">closure</a>.  I've discussed this concept some in the "<a href="what-is-this.html">What is This?</a>" article.  There I was explaining scope and context.  Today I wish to explain about some practical uses of a closure in event based programming as well as compare it to other methods like object orientation to preserve state across event calls.</p>

<h2>What is a closure</h2>

<p>Again from wikipedia:</p>

<blockquote>
  <p>In computer science, a closure is a first-class function with free variables that are bound in the lexical environment. Such a function is said to be "closed over" its free variables. A closure is defined within the scope of its free variables, and the extent of those variables is at least as long as the lifetime of the closure itself.</p>
</blockquote>

<p>Or the way I understand it intuitively:</p>

<blockquote>
  <p>A closure is a function defined within another scope that has access to all the variables within the outer scope.</p>
</blockquote>

<h2>Using closure to hide state</h2>

<p>Imagine this piece of code:</p>

<div class="snippet"><a href="why-use-closure/greet_plain.js" class="code-link">greet_plain.js</a><pre><code><span class="kwd">function</span><span class="pln"> greet</span><span class="pun">(</span><span class="pln">message</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br /></span><span class="kwd">function</span><span class="pln"> greeter</span><span class="pun">(</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; </span><span class="kwd">return</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", who is "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">" years old, says hi!"</span><span class="pun">;</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br /></span><span class="com">// Generate the message</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> greeter</span><span class="pun">(</span><span class="str">"Bob"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">47</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="com">// Pass it explicitly to greet</span><span class="pln"><br />greet</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span></code></pre></div>

<p>We're manually passing the internal state around so that the other functions can get ahold of it. I mean, it works and is really simple, but assuming you never need the generated message string outside of the <code>greet</code> function, what's the point of making the user of the API handle internal data for you.  Also what if later on the <code>greet</code> function needed some other data, you would have to change everything to pass along more variables.</p>

<p>Clearly there must be a better way.</p>

<p>My favorite use of closure is to  call a function that generates another function or group of functions but hides all the state in private variables within the closure:</p>

<div class="snippet"><a href="why-use-closure/greeter.js" class="code-link">greeter.js</a><pre><code><span class="kwd">function</span><span class="pln"> greeter</span><span class="pun">(</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; </span><span class="kwd">var</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", who is "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">" years old, says hi!"</span><span class="pun">;</span><span class="pln"><br /><br />&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> greet</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br />&nbsp; </span><span class="pun">};</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br /></span><span class="com">// Generate the closure</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> bobGreeter </span><span class="pun">=</span><span class="pln"> greeter</span><span class="pun">(</span><span class="str">"Bob"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">47</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="com">// Use the closure</span><span class="pln"><br />bobGreeter</span><span class="pun">();</span></code></pre></div>

<p>Note that the <code>greet</code> function is nested within the <code>greeter</code> function.  This means it's within the lexical scope of <code>greeter</code> and thus according to the rules of closure has access to the local variables of <code>greeter</code> including <code>message</code>, <code>name</code>, and <code>age</code>.</p>

<h2>Using a closure instead of objects</h2>

<p>Many people who come to JavaScript are experienced programmers who come from other languages where classes and instances are the common way to handle this encapsulation.  JavaScript has something similar in the form of constructor functions and function prototypes.</p>

<h3>Classical OO in JavaScript</h3>

<p>Consider the following class, it uses a classical constructor with function prototypes to work like a class from other languages.</p>

<p>Since you're using the object itself as the place to store state, all references have to be prefixed with <code>this</code>.  It's impossible to hide any variables since everything that accessible to your methods is also publicly readable, writable, and even deletable.  Also if you have a function nested inside of anything then <code>this</code> will change on you unless it's explicitly passed through or preserved with a closure. (see the <code>slowGreet</code> method)</p>

<p>Define the class like this:</p>

<div class="snippet"><a href="why-use-closure/personclass.js" class="code-link">personclass.js</a><pre><code><span class="com">// Define the constructor</span><span class="pln"><br /></span><span class="kwd">function</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br /><br />&nbsp; </span><span class="com">// Store the message in internal state</span><span class="pln"><br />&nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">message </span><span class="pun">=</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", who is "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">" years old, says hi!"</span><span class="pun">;</span><span class="pln"><br /><br /></span><span class="pun">};</span><span class="pln"><br /><br /></span><span class="com">// Define a sync method</span><span class="pln"><br /></span><span class="typ">Person</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">greet </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> greet</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">};</span><span class="pln"><br /><br /></span><span class="com">// Define a method with async internals</span><span class="pln"><br /></span><span class="typ">Person</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slowGreet </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> slowGreet</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; </span><span class="kwd">var</span><span class="pln"> </span><span class="kwd">self</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span><span class="pln"> </span><span class="com">// Use a closure to preserve `this`</span><span class="pln"><br />&nbsp; setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">.</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br />&nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">};</span><span class="pln"><br /><br /></span><span class="com">// Export this file as a module</span><span class="pln"><br /></span><span class="kwd">module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">;</span></code></pre></div>

<p>And use it like this: </p>

<div class="snippet"><a href="why-use-closure/useclass.js" class="code-link">useclass.js</a><pre><code><span class="kwd">var</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./personclass'</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="kwd">var</span><span class="pln"> bob </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"Bob"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">47</span><span class="pun">);</span><span class="pln"><br /><br />bob</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">();</span></code></pre></div>

<p>Nice clean OO code right?  The good thing is that you get to write your methods outside of the constructor instead of nested inside it.  This is a very comfortable pattern and is used by a lot of successful JavaScript projects.</p>

<h3>Object factories using closures</h3>

<p>This is how I would write this class without using <code>new</code> and <code>prototype</code>.  I'll create a factory function that creates a closure and exposes parts of it as public methods.  Externally it looks a lot like the class based version, but internally it's 100% a closure and there isn't a <code>this</code> or <code>new</code> in sight.</p>

<p>Define the factory like this:</p>

<div class="snippet"><a href="why-use-closure/personfactory.js" class="code-link">personfactory.js</a><pre><code><span class="com">// Define the factory</span><span class="pln"><br /></span><span class="kwd">function</span><span class="pln"> newPerson</span><span class="pun">(</span><span class="pln">name</span><span class="pun">,</span><span class="pln"> age</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br /><br />&nbsp; </span><span class="com">// Store the message in a closure</span><span class="pln"><br />&nbsp; </span><span class="kwd">var</span><span class="pln"> message </span><span class="pun">=</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">", who is "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> age </span><span class="pun">+</span><span class="pln"> </span><span class="str">" years old, says hi!"</span><span class="pun">;</span><span class="pln"><br /><br />&nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br /><br />&nbsp; &nbsp; </span><span class="com">// Define a sync function</span><span class="pln"><br />&nbsp; &nbsp; greet</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> greet</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br /><br />&nbsp; &nbsp; </span><span class="com">// Define a function with async internals</span><span class="pln"><br />&nbsp; &nbsp; slowGreet</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> slowGreet</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /><br />&nbsp; </span><span class="pun">};</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br /></span><span class="com">// Export this file as a module</span><span class="pln"><br /></span><span class="kwd">module</span><span class="pun">.</span><span class="pln">exports </span><span class="pun">=</span><span class="pln"> newPerson</span><span class="pun">;</span></code></pre></div>

<p>And use it like this:</p>

<div class="snippet"><a href="why-use-closure/usefactory.js" class="code-link">usefactory.js</a><pre><code><span class="kwd">var</span><span class="pln"> newPerson </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./personfactory'</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="kwd">var</span><span class="pln"> tim </span><span class="pun">=</span><span class="pln"> newPerson</span><span class="pun">(</span><span class="str">"Tim"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28</span><span class="pun">);</span><span class="pln"><br /><br />tim</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">();</span></code></pre></div>

<p>I like it!  One word of caution though.  While this method is quite easy to use, it doesn't perform well when you're creating large numbers of instances.  Each instance will create its own version of every function in the object.</p>

<h2>Closures for events and callbacks</h2>

<p>This is where closures are the most useful.  In fact, this is the reason that Ryan Dahl (The creator of node.js) used JavaScript in the first place.  C doesn't have closures and it makes non-blocking code difficult to write in C.</p>

<p>The simplest example (which we just saw earlier) is <code>setTimeout</code>.  This is a non-blocking function call.  The code in the passed in callback won't get called till after the timeout happens.  This will be on a completely new stack and the only way to get data into it is through lexical scope and a closure.</p>

<p>Imagine this code snippet:</p>

<div class="snippet"><a href="why-use-closure/settimeout.js" class="code-link">settimeout.js</a><pre><code><span class="kwd">function</span><span class="pln"> handle</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br /></span><span class="kwd">function</span><span class="pln"> setAlarm</span><span class="pun">(</span><span class="pln">message</span><span class="pun">,</span><span class="pln"> timeout</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; setTimeout</span><span class="pun">(</span><span class="pln">handle</span><span class="pun">,</span><span class="pln"> timeout</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br />setAlarm</span><span class="pun">(</span><span class="str">"Wake UP!"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span></code></pre></div>

<p>This won't work, <code>message</code> will be undefined since it's a local variable to <code>setAlarm</code> and doesn't exist outside that function.  Instead we need to define the <code>handle</code> function inside of the <code>setAlarm</code> function.</p>

<div class="snippet"><a href="why-use-closure/settimeout2.js" class="code-link">settimeout2.js</a><pre><code><span class="kwd">function</span><span class="pln"> setAlarm</span><span class="pun">(</span><span class="pln">message</span><span class="pun">,</span><span class="pln"> timeout</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br /><br />&nbsp; </span><span class="com">// Define handle in the closure</span><span class="pln"><br />&nbsp; </span><span class="kwd">function</span><span class="pln"> handle</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">);</span><span class="pln"><br />&nbsp; </span><span class="pun">}</span><span class="pln"><br /><br />&nbsp; setTimeout</span><span class="pun">(</span><span class="pln">handle</span><span class="pun">,</span><span class="pln"> timeout</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /><br />setAlarm</span><span class="pun">(</span><span class="str">"Wake UP!"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span></code></pre></div>

<p>As explained in the "<a href="what-is-this.html">What is This?</a>" article, <code>this</code> is especially painful when dealing with setting callbacks.  This is because specifying a method of an object as the callback function will cause the function by itself to be the callback, not the object associated with it.</p>

<div class="snippet"><a href="why-use-closure/eventobj.js" class="code-link">eventobj.js</a><pre><code><span class="kwd">var</span><span class="pln"> </span><span class="typ">Person</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./personclass'</span><span class="pun">),</span><span class="pln"><br />&nbsp; &nbsp; newPerson </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'./personfactory'</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="kwd">var</span><span class="pln"> bob </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"Bob"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">47</span><span class="pun">);</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> jake </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"Jake"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">17</span><span class="pun">);</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> tim </span><span class="pun">=</span><span class="pln"> newPerson</span><span class="pun">(</span><span class="str">"Tim"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">28</span><span class="pun">);</span><span class="pln"><br /><br />setTimeout</span><span class="pun">(</span><span class="pln">bob</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"><br /></span><span class="com">// Outputs: undefined</span><span class="pln"><br /><br />setTimeout</span><span class="pun">(</span><span class="pln">tim</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">,</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"><br /></span><span class="com">// Outputs: Tim, who is 28 years old, says hi!</span><span class="pln"><br /><br /></span><span class="com">// With `this` based objects you have to manually bind the function</span><span class="pln"><br /></span><span class="com">// This works</span><span class="pln"><br />setTimeout</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; jake</span><span class="pun">.</span><span class="pln">greet</span><span class="pun">();</span><span class="pln"><br /></span><span class="pun">},</span><span class="pln"> </span><span class="lit">100</span><span class="pun">);</span><span class="pln"><br /></span><span class="com">// Outputs: Jake, who is 17 years old, says hi!</span></code></pre></div>

<p>Interesting thing about JavaScript is that functions are first-class values.  The whole <code>this</code> context helps in designing classical OO API's, but you have to remember that it's only assigned on function call, it's not something tied to the function itself.  Variables from the closure, however are part of the function itself, no matter how it's called.</p><hr style="clear:both" /><div class="body" id="disqus_thread"></div>
<script type="text/javascript">
//<![CDATA[
var disqus_url = "http://howtonode.org/why-use-closure";
//]]>
</script>
<script src="http://disqus.com/forums/howtonodeorg/embed.js" type="text/javascript"></script><a href="http://disqus.com/forums/howtonodeorg/?url=ref" class="view-thread">View the discussion thread.</a><a href="http://disqus.com/" class="dsq-brlink">blog comments powered by<span class="logo-disqus">Disqus</span></a>
<script type="text/javascript">
//<![CDATA[
(function() {
  var links = document.getElementsByTagName('a');
  var query = '?';
  for(var i = 0; i < links.length; i++) {
    if(links[i].href.indexOf('#disqus_thread') >= 0) {
      query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
    }
  }
  document.write('<script charset="utf-8" type="text/javascript" src="//disqus.com/forums/howtonodeorg/get_num_replies.js' + query + '"></' + 'script>');
})();


//]]>
</script>
</div></div><div id="sidebar"><div class="aside author"><h4>About the Author</h4><img src="https://www.gravatar.com/avatar/c953ddd239707998340e1a6fbb3eeb46?r=pg&amp;s=200.jpg&amp;d=identicon" class="headshot" /><dl><dt>Name:</dt><dd>Tim Caswell</dd></dl><dl><dt>Github:</dt><dd><a href="https://github.com/creationix">creationix</a></dd></dl><dl><dt>Twitter:</dt><dd><a href="https://twitter.com/creationix">creationix</a></dd></dl><dl><dt>Location:</dt><dd>Red Lick, TX</dd></dl><dl><dt>Links:</dt><dd><a href="http://creationix.com/">Homepage</a></dd></dl></div><div class="aside"><h4>About this Article</h4><a href="http://twitter.com/share" data-count="horizontal" data-via="creationix" class="twitter-share-button">Tweet</a><script src="http://platform.twitter.com/widgets.js"></script><dl title="Wed Jun 30 2010 12:15:53 GMT-0700 (PDT)"><dt>Date Released:</dt><dd>Wednesday, June 30, 2010</dd></dl><dl><dt>Node Version:</dt><dd><a href="http://github.com/joyent/node/tree/v0.1.102">node v0.1.102</a></dd></dl><dl><dt>Code Samples:</dt><dd><ul><li><a href="why-use-closure/greet_plain.js">greet_plain.js</a></li><li><a href="why-use-closure/greeter.js">greeter.js</a></li><li><a href="why-use-closure/personclass.js">personclass.js</a></li><li><a href="why-use-closure/useclass.js">useclass.js</a></li><li><a href="why-use-closure/personfactory.js">personfactory.js</a></li><li><a href="why-use-closure/usefactory.js">usefactory.js</a></li><li><a href="why-use-closure/settimeout.js">settimeout.js</a></li><li><a href="why-use-closure/settimeout2.js">settimeout2.js</a></li><li><a href="why-use-closure/eventobj.js">eventobj.js</a></li></ul></dd></dl><dl><dt>Revisions:</dt><dd><ul></ul></dd></dl></div><div class="bubble"><h3>About HowToNode.org</h3>

<p>HowToNode.org is a community supported blog created by <a href="http://creationix.com/">Tim Caswell</a>. The purpose of the blog is to teach how to do various tasks in <a href="http://nodejs.org/">node.js</a> as well as teach fundamental concepts that are needed to write effective code.</p>

<p>This site is powered by <a href="http://github.com/creationix/wheat">Wheat</a>, a git based blogging engine written in <a href="http://nodejs.org/">node.JS</a>.</p>

<p>The content for this site is stored in a <a href="http://github.com/creationix/howtonode.org">git repository</a> that anyone can fork, write an article, and send a pull request. If your article passes the quality standards it will be published and help support the greater node community.</p></div></div><div id="footer"><p>&copy; 2011-2014 Tim Caswell under the MIT license.</p><p>Content and articles are copyrighted to the individual authors. Design by&nbsp;<a href="https://bengourley.co.uk/">Ben Gourley</a>. All code snippets used in the examples are in the public domain.</p><p>Wheat v2 running on node.js v16.4.2</p></div></div>
<script type="text/javascript">
//<![CDATA[
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
try {
var pageTracker = _gat._getTracker("UA-12824411-1");
pageTracker._trackPageview();
} catch(err) {}
//]]>
</script>
</body>
<!-- Mirrored from localhost:8080/why-use-closure by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Jul 2021 13:59:01 GMT -->
</html>