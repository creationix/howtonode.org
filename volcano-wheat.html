<!DOCTYPE html>
<html lang="en">
<!-- Mirrored from localhost:8080/volcano-wheat by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Jul 2021 13:59:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8" /><title>Volcano Wheat - How To Node - NodeJS</title><meta name="description" content="Learn the zen of coding in NodeJS." /><meta name="viewport" content="width=device-width" /><link href="style.css" rel="stylesheet" /><link href="print.css" rel="stylesheet" media="print" /><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed.xml" /><link href="favicon.ico" rel="icon" type="image/x-icon" /></head><body><div id="container"><div id="header"><a href="index.html"><img src="logo.png" alt="How to Node" class="logo" /><div class="tagline">The zen of coding in node.js</div></a></div><div id="main"><div class="article"><h1><a href="volcano-wheat.html">Volcano Wheat</a></h1><p class="old-node-warning">HEADS UP! This article was written for an older version of node.&nbsp;More up-to-date information may be available elsewhere.</p><p>Announcing the release of a new engine for howtonode.org, <a href="http://github.com/creationix/wheat">Wheat</a>!  Also in honor of those stuck in Europe trying to get to <a href="http://jsconf.us/2010/">jsconf</a>, the background is a photo of the icelandic volcano.</p>

<h2>Volcano</h2>

<p><img src="volcano-wheat/volcano.jpg" alt="volcano" title="" /></p>

<p>German air traffic control says Munich airport is being closed - completing a shutdown of the country's international airports due to drifting ash from an Icelandic volcano.</p>

<p>Munich's planned closure at 8 p.m. Friday came hours after that of the other 15 international airports, including Frankfurt. Flights were halted in northern cities including Berlin and Hamburg Thursday night. (AP)</p>

<p>This means that several people who were attending JSConf had their flights canceled.</p>

<h2>Wheat</h2>

<p>As you may have noticed, the site looks completely different.  It works completely different under the hood as well.  Instead of pre-generating static html using <a href="http://github.com/creationix/node-blog">node-blog</a>, it runs on a node-powered web server using <a href="http://github.com/creationix/wheat">wheat</a>.  The actual files don't exist anywhere in the file-system.  Wheat instead implements a mini virtual filesystem that can read local bare git repositories and serve files from them git the "<code>git show</code>" command.</p>

<p>Thanks to some tips from the <a href="http://github.com/">github</a> guys I was able to implement a caching system that is very efficient and responsive.  In synthetic benchmarks, most pages render at a rate around 2000 requests/second using a pure node server.</p>

<p>When authoring an article, you can run wheat locally on your machine, and it will overlay the local files in your working tree on top of the files in the git repo.  So testing an article is as simple as saving the markdown file and hitting refresh in the browser.</p>

<p>Once an article is ready, you only have to push to your git repo on your server and the head cache will pick up the changes within 100ms.  In my setup I have a git post-update hook that re-pushes the changes to GitHub so that the contents are more accessible to the community.</p>

<div class="snippet"><a href="volcano-wheat/test.js" class="code-link">test.js</a><pre><code><span class="com">// Print something to the console</span><span class="pln"><br />console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Arrrg, There be ash over tharr!"</span><span class="pun">);</span></code></pre></div>

<p>As you can see, it supports pulling in external code snippets and running them in a node sandbox.  This will help keep syntax errors and code samples that are just plain wrong at bay.</p>

<p><img src="volcano-wheat/graph.png" alt="graph" title="" /></p>

<p>Also graphviz graphs are now rendered on the fly.  Like this graph that explains the possible ways to end up or not end up at JSConf 2010.</p><hr style="clear:both" /><div class="body" id="disqus_thread"></div>
<script type="text/javascript">
//<![CDATA[
var disqus_url = "http://howtonode.org/volcano-wheat";
//]]>
</script>
<script src="http://disqus.com/forums/howtonodeorg/embed.js" type="text/javascript"></script><a href="http://disqus.com/forums/howtonodeorg/?url=ref" class="view-thread">View the discussion thread.</a><a href="http://disqus.com/" class="dsq-brlink">blog comments powered by<span class="logo-disqus">Disqus</span></a>
<script type="text/javascript">
//<![CDATA[
(function() {
  var links = document.getElementsByTagName('a');
  var query = '?';
  for(var i = 0; i < links.length; i++) {
    if(links[i].href.indexOf('#disqus_thread') >= 0) {
      query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
    }
  }
  document.write('<script charset="utf-8" type="text/javascript" src="//disqus.com/forums/howtonodeorg/get_num_replies.js' + query + '"></' + 'script>');
})();


//]]>
</script>
</div></div><div id="sidebar"><div class="aside author"><h4>About the Author</h4><img src="https://www.gravatar.com/avatar/c953ddd239707998340e1a6fbb3eeb46?r=pg&amp;s=200.jpg&amp;d=identicon" class="headshot" /><dl><dt>Name:</dt><dd>Tim Caswell</dd></dl><dl><dt>Github:</dt><dd><a href="https://github.com/creationix">creationix</a></dd></dl><dl><dt>Twitter:</dt><dd><a href="https://twitter.com/creationix">creationix</a></dd></dl><dl><dt>Location:</dt><dd>Red Lick, TX</dd></dl><dl><dt>Links:</dt><dd><a href="http://creationix.com/">Homepage</a></dd></dl></div><div class="aside"><h4>About this Article</h4><a href="http://twitter.com/share" data-count="horizontal" data-via="creationix" class="twitter-share-button">Tweet</a><script src="http://platform.twitter.com/widgets.js"></script><dl title="Fri Apr 16 2010 13:37:07 GMT-0500 (CDT)"><dt>Date Released:</dt><dd>Friday, April 16, 2010</dd></dl><dl><dt>Node Version:</dt><dd><a href="http://github.com/joyent/node/tree/v0.1.102">node v0.1.102</a></dd></dl><dl><dt>Code Samples:</dt><dd><ul><li><a href="volcano-wheat/test.js">test.js</a></li></ul></dd></dl><dl><dt>Revisions:</dt><dd><ul></ul></dd></dl></div><div class="bubble"><h3>About HowToNode.org</h3>

<p>HowToNode.org is a community supported blog created by <a href="http://creationix.com/">Tim Caswell</a>. The purpose of the blog is to teach how to do various tasks in <a href="http://nodejs.org/">node.js</a> as well as teach fundamental concepts that are needed to write effective code.</p>

<p>This site is powered by <a href="http://github.com/creationix/wheat">Wheat</a>, a git based blogging engine written in <a href="http://nodejs.org/">node.JS</a>.</p>

<p>The content for this site is stored in a <a href="http://github.com/creationix/howtonode.org">git repository</a> that anyone can fork, write an article, and send a pull request. If your article passes the quality standards it will be published and help support the greater node community.</p></div></div><div id="footer"><p>&copy; 2011-2014 Tim Caswell under the MIT license.</p><p>Content and articles are copyrighted to the individual authors. Design by&nbsp;<a href="https://bengourley.co.uk/">Ben Gourley</a>. All code snippets used in the examples are in the public domain.</p><p>Wheat v2 running on node.js v16.4.2</p></div></div>
<script type="text/javascript">
//<![CDATA[
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
try {
var pageTracker = _gat._getTracker("UA-12824411-1");
pageTracker._trackPageview();
} catch(err) {}
//]]>
</script>
</body>
<!-- Mirrored from localhost:8080/volcano-wheat by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Jul 2021 13:59:15 GMT -->
</html>