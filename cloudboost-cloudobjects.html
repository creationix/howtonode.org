<!DOCTYPE html>
<html lang="en">
<!-- Mirrored from localhost:8080/cloudboost-cloudobjects by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Jul 2021 13:56:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8" /><title>Store data with CloudBoost's CloudObjects - How To Node - NodeJS</title><meta name="description" content="Learn the zen of coding in NodeJS." /><meta name="viewport" content="width=device-width" /><link href="style.css" rel="stylesheet" /><link href="print.css" rel="stylesheet" media="print" /><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="feed.xml" /><link href="favicon.ico" rel="icon" type="image/x-icon" /></head><body><div id="container"><div id="header"><a href="index.html"><img src="logo.png" alt="How to Node" class="logo" /><div class="tagline">The zen of coding in node.js</div></a></div><div id="main"><div class="article"><h1><a href="cloudboost-cloudobjects.html">Store data with CloudBoost's CloudObjects</a></h1><p>CloudBoost is a Database Service with storage, search and real-time capabilities. Think of CloudBoost as Parse + Firebase + Algolia all combined into one. CloudBoost has SDK's in multiple platforms which helps you build web, mobile and IoT apps without dealing with the backend and database infrastructure. </p>

<h2>Pre-Requisites</h2>

<h3>CloudBoost</h3>

<p><a href="http://www.cloudboost.io/">CloudBoost</a> is a Cloud Application Platform designed to make it easier for NodeJS developers to build apps. CloudBoost features include a Database Service, Queues, Cache and more built into one simple API. </p>

<p>CloudBoost is in the npm registry. To install CloudBoost, you need to : </p>

<pre><code><span class="pln">npm install cloudboost<br /></span></code></pre>

<h2>What will our application do?</h2>

<p>To keep things simple, we're going to only tackle very basic functionality. We're going to build a course management system which registers, retrieves and deletes courses. Our application will support the following methods:</p>

<ul>
<li>Register a course (POST /course/:name)</li>
<li>Retrieve a course (GET /course/:name)</li>
<li>Deleting a course (DELETE /course/:name)</li>
</ul>

<h2>Let's get started!</h2>

<p>You need to create a new app <a href="https://www.cloudboost.io/">here</a> before you get started. Create a new account and create a new app to get started. </p>

<p>Once your app is created. You'll have your client key and a master key. Please make sure you use master key when you're writing NodeJS applications. </p>

<p>You need to initialize your new application. To initialize your app, </p>

<div class="snippet"><a href="cloudboost-cloudobjects/init.js" class="code-link">init.js</a><pre><code><span class="kwd">var</span><span class="pln"> CB </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'cloudboost'</span><span class="pun">);</span><span class="pln"><br /><br />CB</span><span class="pun">.</span><span class="typ">CloudApp</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="str">'Your App ID'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Your App Key'</span><span class="pun">);</span></code></pre></div>

<p>CloudBoost NodeJS module initializes your app with your App ID and Master Key. </p>

<h2>Creating the package.json file</h2>

<p>In order to manage dependencies, it is useful to create a <code>package.json</code> file. This file
provides details on the packages you depend on so that you can more easily use <code>npm</code> to manage
these dependencies.</p>

<p>Create a file named <code>package.json</code> in your application directory.</p>

<div class="snippet"><a href="cloudboost-cloudobjects/package.json" class="code-link">package.json</a><pre><code><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"name"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"CloudBoost CloudObjects"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"description"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Simple App to demonstrate CloudBoost Data Storage"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"version"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"0.1.0"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"author"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Nawaz Dhandala"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"email"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"hello@cloudboost.io"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"main"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"./app"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"directories"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">"lib"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"./lib"</span><span class="pln"> </span><span class="pun">},</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="str">"dependencies"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="str">"cloudboost"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"&gt;=1.1.139"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; </span><span class="str">"express"</span><span class="pun">:</span><span class="str">"*"</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span></code></pre></div>

<p>The most important field in this JSON file is the <code>dependencies</code> field. This field will allow
you to execute <code>npm install</code> to install the dependencies for your project.</p>

<h2>Create a course table</h2>

<p>After you have created your app. Got to CloudBoost Dashboard. click on <code>Manage App</code> button to got o tables page where you can cretae a course table in CloudBoost. Add a new column called <code>name</code> of type <code>text</code>. Once you're done,  you can switch back to your NodeJS app and begin writing code. </p>

<h2>Inserting an object in CloudBoost</h2>

<p>There is one route that we will need in order to register a course in your app. </p>

<ul>
<li>POST /course/:name -> Adds an course to the database and returns 200.</li>
</ul>

<p>The NodeJS script to register a course is as follows:</p>

<ul>
<li>You need to create a new CloudObject </li>
<li>Set object params by using <code>set()</code> function of CloudObject</li>
<li>Save CloudObject using <code>save()</code> function.</li>
</ul>

<div class="snippet"><a href="cloudboost-cloudobjects/addItem.js" class="code-link">addItem.js</a><pre><code><span class="pln">app</span><span class="pun">.</span><span class="pln">post</span><span class="pun">(</span><span class="str">'/course/:name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> course </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> CB</span><span class="pun">.</span><span class="typ">CloudObject</span><span class="pun">(</span><span class="str">'Course'</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; course</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">req</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; course</span><span class="pun">.</span><span class="pln">save</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Course Registered"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br /></span><span class="pun">});</span></code></pre></div>

<p>The response will be : </p>

<pre><code><span class="pun">{</span><span class="pln"><br />&nbsp; status</span><span class="pun">:</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"><br />&nbsp; body</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Course Registered."</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre>

<h2>Retrieving an object in CloudBoost.</h2>

<p>To retrieve a course, You need to write one more route. You need call the get function of the CloudQuery instance with the name of the course.</p>

<ul>
<li>GET /course/:name -> Gets a course from CloudBoost Database.</li>
</ul>

<p>The NodeJS script to get item from CloudBoost is as follows : </p>

<div class="snippet"><a href="cloudboost-cloudobjects/getItem.js" class="code-link">getItem.js</a><pre><code><span class="pln">app</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'/course/:name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> query </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> CB</span><span class="pun">.</span><span class="typ">CloudQuery</span><span class="pun">(</span><span class="str">'Course'</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">equalTo</span><span class="pun">(</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">req</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">findOne</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">course </span><span class="pun">:</span><span class="pln"> CB</span><span class="pun">.</span><span class="pln">toJSON</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">)</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br /></span><span class="pun">});</span></code></pre></div>

<p>Response will be : </p>

<pre><code><span class="pun">{</span><span class="pln"><br />&nbsp; status</span><span class="pun">:</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"><br />&nbsp; body</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; course </span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _id </span><span class="pun">:</span><span class="pln"> </span><span class="str">"XXXXX"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; name</span><span class="pun">:</span><span class="pln"> </span><span class="str">"Name_of_course"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre>

<h2>Deleting an object from CloudBoost</h2>

<p>To delete a course from CloudBoost, You need to write the DELETE route. You need call the <code>delete</code> function of the <code>CloudObject</code> instance with the key and value.</p>

<ul>
<li>DELETE /course/:name -> Delete an item from the cache.</li>
</ul>

<p>The NodeJS script to delete an item from CloudBoost is as follows : </p>

<div class="snippet"><a href="cloudboost-cloudobjects/deleteItem.js" class="code-link">deleteItem.js</a><pre><code><span class="pln">app</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">(</span><span class="str">'/course/:name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> query </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> CB</span><span class="pun">.</span><span class="typ">CloudQuery</span><span class="pun">(</span><span class="str">'Course'</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">equalTo</span><span class="pun">(</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">req</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">findOne</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; obj</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Success"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Not found."</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br /></span><span class="pun">});</span></code></pre></div>

<p>The response is</p>

<pre><code><span class="pun">{</span><span class="pln"><br />&nbsp; status</span><span class="pun">:</span><span class="pln"> </span><span class="lit">200</span><span class="pun">,</span><span class="pln"><br />&nbsp; body</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Success"</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">}</span><span class="pln"><br /></span></code></pre>

<h2>Summing it up</h2>

<p>As you can see, getting started with CloudBoost and NodeJS with Modulus is fairly simple. To learn more about the CloudBoost, you can check the documentation <a href="https://tutorials.cloudboost.io/">here</a>, and if you want to quickly get started with CloudBoost you can check the quickstart here  <a href="https://www.cloudboost.io/quickstart">https://www.cloudboost.io/quickstart</a>.</p>

<p>The full source code of the finished <code>app.js</code> is below:</p>

<div class="snippet"><a href="cloudboost-cloudobjects/app.js" class="code-link">app.js</a><pre><code><span class="kwd">var</span><span class="pln"> CB &nbsp;</span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'cloudboost'</span><span class="pun">);</span><span class="pln"><br /><br /></span><span class="kwd">var</span><span class="pln"> express </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'express'</span><span class="pun">);</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> app </span><span class="pun">=</span><span class="pln"> express</span><span class="pun">();</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> http </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'http'</span><span class="pun">).</span><span class="typ">Server</span><span class="pun">(</span><span class="pln">app</span><span class="pun">);</span><span class="pln"><br /><br />CB</span><span class="pun">.</span><span class="typ">CloudApp</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="str">'Your App ID'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Your App Key'</span><span class="pun">);</span><span class="pln"><br /><br />app</span><span class="pun">.</span><span class="pln">post</span><span class="pun">(</span><span class="str">'/course/:name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> course </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> CB</span><span class="pun">.</span><span class="typ">CloudObject</span><span class="pun">(</span><span class="str">'Course'</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; course</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">req</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; course</span><span class="pun">.</span><span class="pln">save</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Course Registered"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /><br />app</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'/course/:name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> query </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> CB</span><span class="pun">.</span><span class="typ">CloudQuery</span><span class="pun">(</span><span class="str">'Course'</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">equalTo</span><span class="pun">(</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">req</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">findOne</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">course </span><span class="pun">:</span><span class="pln"> CB</span><span class="pun">.</span><span class="pln">toJSON</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">)</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /><br />app</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">(</span><span class="str">'/course/:name'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">req</span><span class="pun">,</span><span class="pln">res</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> query </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> CB</span><span class="pun">.</span><span class="typ">CloudQuery</span><span class="pun">(</span><span class="str">'Course'</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">equalTo</span><span class="pun">(</span><span class="str">'name'</span><span class="pun">,</span><span class="pln">req</span><span class="pun">.</span><span class="kwd">params</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; query</span><span class="pun">.</span><span class="pln">findOne</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; obj</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; success </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Success"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">200</span><span class="pun">).</span><span class="pln">send</span><span class="pun">({</span><span class="pln">message </span><span class="pun">:</span><span class="pln"> </span><span class="str">"Not found."</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"> error</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">error</span><span class="pun">){</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res</span><span class="pun">.</span><span class="pln">status</span><span class="pun">(</span><span class="lit">500</span><span class="pun">).</span><span class="pln">send</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br /><br />http</span><span class="pun">.</span><span class="pln">listen</span><span class="pun">(</span><span class="lit">8000</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp;console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"Server Started."</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">});</span></code></pre></div><hr style="clear:both" /><div class="body" id="disqus_thread"></div>
<script type="text/javascript">
//<![CDATA[
var disqus_url = "http://howtonode.org/cloudboost-cloudobjects";
//]]>
</script>
<script src="http://disqus.com/forums/howtonodeorg/embed.js" type="text/javascript"></script><a href="http://disqus.com/forums/howtonodeorg/?url=ref" class="view-thread">View the discussion thread.</a><a href="http://disqus.com/" class="dsq-brlink">blog comments powered by<span class="logo-disqus">Disqus</span></a>
<script type="text/javascript">
//<![CDATA[
(function() {
  var links = document.getElementsByTagName('a');
  var query = '?';
  for(var i = 0; i < links.length; i++) {
    if(links[i].href.indexOf('#disqus_thread') >= 0) {
      query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
    }
  }
  document.write('<script charset="utf-8" type="text/javascript" src="//disqus.com/forums/howtonodeorg/get_num_replies.js' + query + '"></' + 'script>');
})();


//]]>
</script>
</div></div><div id="sidebar"><div class="aside author"><h4>About the Author</h4><img src="https://www.gravatar.com/avatar/7d52d40be0346e8f91dd13e1685f1f57?r=pg&amp;s=200.jpg&amp;d=identicon" class="headshot" /><dl><dt>Name:</dt><dd>Nawaz Dhandala</dd></dl><dl><dt>Github:</dt><dd><a href="https://github.com/nawazdhandala">nawazdhandala </a></dd></dl><dl><dt>Twitter:</dt><dd><a href="https://twitter.com/nawazdhandala">nawazdhandala </a></dd></dl><dl><dt>Location:</dt><dd>Hyderabad, India</dd></dl></div><div class="aside"><h4>About this Article</h4><a href="http://twitter.com/share" data-count="horizontal" data-via="creationix" class="twitter-share-button">Tweet</a><script src="http://platform.twitter.com/widgets.js"></script><dl title="Tue March 22 2016 08:53:58 GMT-0700 (PDT)"><dt>Date Released:</dt><dd>Tuesday, March 22, 2016</dd></dl><dl><dt>Node Version:</dt><dd><a href="http://github.com/joyent/node/tree/v5.1.0">node v5.1.0</a></dd></dl><dl><dt>Code Samples:</dt><dd><ul><li><a href="cloudboost-cloudobjects/init.js">init.js</a></li><li><a href="cloudboost-cloudobjects/package.json">package.json</a></li><li><a href="cloudboost-cloudobjects/addItem.js">addItem.js</a></li><li><a href="cloudboost-cloudobjects/getItem.js">getItem.js</a></li><li><a href="cloudboost-cloudobjects/deleteItem.js">deleteItem.js</a></li><li><a href="cloudboost-cloudobjects/app.js">app.js</a></li></ul></dd></dl><dl><dt>Revisions:</dt><dd><ul></ul></dd></dl></div><div class="bubble"><h3>About HowToNode.org</h3>

<p>HowToNode.org is a community supported blog created by <a href="http://creationix.com/">Tim Caswell</a>. The purpose of the blog is to teach how to do various tasks in <a href="http://nodejs.org/">node.js</a> as well as teach fundamental concepts that are needed to write effective code.</p>

<p>This site is powered by <a href="http://github.com/creationix/wheat">Wheat</a>, a git based blogging engine written in <a href="http://nodejs.org/">node.JS</a>.</p>

<p>The content for this site is stored in a <a href="http://github.com/creationix/howtonode.org">git repository</a> that anyone can fork, write an article, and send a pull request. If your article passes the quality standards it will be published and help support the greater node community.</p></div></div><div id="footer"><p>&copy; 2011-2014 Tim Caswell under the MIT license.</p><p>Content and articles are copyrighted to the individual authors. Design by&nbsp;<a href="https://bengourley.co.uk/">Ben Gourley</a>. All code snippets used in the examples are in the public domain.</p><p>Wheat v2 running on node.js v16.4.2</p></div></div>
<script type="text/javascript">
//<![CDATA[
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
try {
var pageTracker = _gat._getTracker("UA-12824411-1");
pageTracker._trackPageview();
} catch(err) {}
//]]>
</script>
</body>
<!-- Mirrored from localhost:8080/cloudboost-cloudobjects by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Jul 2021 13:56:36 GMT -->
</html>